{{ form_start(get_keywordUsers_form_ajax, { 'attr' : {'novalidate': 'novalidate', 'role' : 'form', 'id': 'get-keywordUsers-ajax'|default('form')} }) }}
{{ form_end(get_keywordUsers_form_ajax) }}

{{ form_start(get_videosPerKeywordUsers_form_ajax, { 'attr' : {'novalidate': 'novalidate', 'role' : 'form', 'id': 'get-videosPerKeywordUsers-ajax'|default('form')} }) }}
{{ form_end(get_videosPerKeywordUsers_form_ajax) }}

{{ form_start(dataminingBundle1.dataminingBundle2.delete_keyword_user_form_ajax, { 'attr' : {'novalidate': 'novalidate', 'role' : 'form', 'id': 'delete-keyword-user-ajax'|default('form')} }) }}
{{ form_end(dataminingBundle1.dataminingBundle2.delete_keyword_user_form_ajax) }}

{{ form_start(dataminingBundle1.dataminingBundle2.get_datamining_location_form_ajax, { 'attr' : {'novalidate': 'novalidate', 'role' : 'form', 'id': 'get-datamining-location-ajax'|default('form')} }) }}
{{ form_end(dataminingBundle1.dataminingBundle2.get_datamining_location_form_ajax) }}

<img id='btnDataminingBundle' class='boton_personalizado relativePosition' 
     src="files/images/icons/presentation/datamining.png" alt="Mountain View">

<img id='btnDataminingByLocationBundle' class='boton_personalizado relativePosition' 
     src="files/images/icons/world.png" alt="Mountain View">

<div id="dataminingSongs_profile2" data-id1=0>
        selected product
</div>

<script>
    function load_contentListBundle()
    {
        document.getElementById("contentDataminigBundle").style.display = "none";
        document.getElementById("contentListBundle").style.display = "block";
    }
    
    function load_datamining()
    {
        if ($("#contentDataminigBundle").attr('locationnj_1') != 1)
        {
            $("#contentDataminigBundle").attr('locationnj_1', 1);
            {#relativePosition search_div_123_4#}
                        
            var search_div_123_4 = document.createElement("div");
            search_div_123_4.id = "search_div_123_4";
            search_div_123_4.className = "dataminingList";
            search_div_123_4.setAttribute("keywordsAmount", 0);
            document.getElementById("dataminingSongs_profile2").appendChild(search_div_123_4);
            
            $('#search_div_123_4')
            .scroll(function () {
                var search_div_123_4 = document.getElementById("search_div_123_4");

                var a = search_div_123_4.scrollHeight;
                var b = search_div_123_4.scrollTop;
                var c = search_div_123_4.clientHeight;

                if (b+c === a)
                {
                    get_KeywordUsers();

                    {#get_datamining_location(1);#}
                    {#alert("fin");#}
                }
            })
            .mouseover(function () {
                var search_div_123_4 = document.getElementById("search_div_123_4");
                search_div_123_4.classList.add("visibleScroll");
            })
            .mouseout(function () {
                var search_div_123_4 = document.getElementById("search_div_123_4");
                search_div_123_4.classList.remove("visibleScroll");
            });
        } else
        {
            if ($("#search_div_123_4").attr("available_mode") != 1)
            {
                show_b();
            } else
            {
                show_a();
            }
        }
        
        get_KeywordUsers();
    }
    
    function show_a()
    {
        $("#search_div_123_5").attr("available_mode", 1);
        var search_div_123_5 = document.getElementById("search_div_123_5");
        search_div_123_5.style.display = "none";

        $("#search_div_123_4").attr("available_mode", 0);
        var search_div_123_4 = document.getElementById("search_div_123_4");
        search_div_123_4.style.display = "block";
    }
    
    function show_b()
    {
        $("#search_div_123_5").attr("available_mode", 0);
        var search_div_123_5 = document.getElementById("search_div_123_5");
        search_div_123_5.style.display = "block";

        $("#search_div_123_4").attr("available_mode", 1);
        var search_div_123_4 = document.getElementById("search_div_123_4");
        search_div_123_4.style.display = "none";
    }
    
    function get_final_location_user()
    {
        
    }
    
    function load_dataminingByLocation()
    {
        if ($("#contentDataminigBundle").attr('locationnj_2') != 1)
        {
            $("#contentDataminigBundle").attr('locationnj_2', 1);
            var search_div_123_5 = document.createElement("div");
            search_div_123_5.id = "search_div_123_5";
            search_div_123_5.className = "relativePosition search_div_123_5";
            search_div_123_5.style.width = "100%";
            search_div_123_5.style.height = "100%";
            document.getElementById("dataminingSongs_profile2").appendChild(search_div_123_5);
            
            var location_menu_block = document.createElement("div");
            location_menu_block.id = "location_menu_block";
            location_menu_block.className = "location_menu_block";
            location_menu_block.addEventListener("mouseover", function (e) {
                var dvc = document.getElementById("location_menu_block").childElementCount;
                if (dvc == 0)
                {
                    var new_env = "location_menu_block";
                    var environment = "idfs_2";
                    change_location_environment(new_env, environment);
                    
                    get_final_location_user();
                }
            }, false);
            document.getElementById("search_div_123_5").appendChild(location_menu_block);
            
            var location_menu_buttons = document.createElement("div");
            location_menu_buttons.id = "location_menu_buttons";
            location_menu_buttons.className = "location_menu_buttons";
            document.getElementById("search_div_123_5").appendChild(location_menu_buttons);
            
            var img_send_location = document.createElement("img");
            img_send_location.id = "img_send_location";
            img_send_location.className = "boton_personalizado";
            img_send_location.style.top = "10px";
            img_send_location.src = "files/images/icons/ok.png";
            img_send_location.alt = "";
            img_send_location.addEventListener("click", function (e) {
                var select = document.getElementById("invocations_signUp").firstElementChild;
                
                document.getElementById("geolocation_map").innerHTML = "";
                
                while (select)
                {
                    var children_te = select.children;
                    var first_e = children_te[1].value;
                    
                    {#alert(" - "+first_e);#}
                    {#alert("9fc 888 "+next_e.id);#}
                    {#alert(" - "+select.id);#}
                    
                    var next_e = select.nextElementSibling;
                    
                    var select = next_e;
                    
                    var node_location = document.createElement("div");
                    node_location.id = "node_location" + first_e;
                    node_location.className = "node_location";
                    node_location.textContent = first_e;
                    node_location.addEventListener("click", function (e) {
                        {#this.classList.remove("visibleScroll");#}
                        var this_location = this.value;
                        {#alert("dsxxsa "+this_location);#}
                        document.getElementById("location_list_block").innerHTML = "";
                        $('#location_list_block').attr('keywordsAmount', 0);
                        $("#location_list_block").attr("fdyc", 0);
                        get_datamining_location(this_location);
                    }, false);
                    geolocation_map.appendChild(node_location);
                    get_location_detail_2(first_e, node_location);
                }
            }, false);
            location_menu_buttons.appendChild(img_send_location);
            
            var geolocation_map = document.createElement("div");
            geolocation_map.id = "geolocation_map";
            geolocation_map.className = "geolocation_map";
            geolocation_map.addEventListener("mouseout", function (e) {
                this.classList.remove("visibleScroll");
            }, false);
            geolocation_map.addEventListener("mouseover", function (e) {
                this.classList.add("visibleScroll");
            }, false);
            location_menu_buttons.appendChild(geolocation_map);
            
            var location_list_block = document.createElement("div");
            location_list_block.id = "location_list_block";
            location_list_block.className = "location_list_block";
            location_list_block.setAttribute("keywordsAmount", 0);
            document.getElementById("search_div_123_5").appendChild(location_list_block);
        } else
        {
            if ($("#search_div_123_5").attr("available_mode") != 1)
            {
                show_a();
            } else
            {
                show_b();
            }
        }
        get_datamining_location(1);
    }
    
    function get_location_detail_2(locationId, div_edit)
    {
        var form = $('#get-location-detail-ajax');
        var url = form.attr('action');
        
        $.post(url, {locationId: locationId}, function (data)
        {
            var locationId = data[0].locationId;
            var locationName = data[0].locationName;
            var territorialityName = data[0].territorialityName;
            
            {#alert('#get-location-detail-ajax'+
                    locationId+" "+
                    locationName+" "+
                    territorialityName);#}
            
            div_edit.textContent = locationName + " - " + territorialityName;
            div_edit.value = locationId;
            
            $("#"+div_edit.id).attr("locationId", locationId);
            
        }).fail(function () {
            alert('ERROR #get-location-detail-ajax');
        });
    }
    
    
    
    function hxs()
    {
        if ($("#contentDataminigBundle").attr('cur_div') != 1)
        {
            $("#contentDataminigBundle").attr('cur_div', 1);
            load_datamining();
        } else
        {
            $("#contentDataminigBundle").attr('cur_div', 0);
            load_dataminingByLocation();
        }
    }
    
    $('#btnDataminingBundle').click(function () {
        load_contentListBundle();
    });
    
    $('#btnDataminingByLocationBundle').click(function () {
        hxs();
    });
    
    function get_KeywordUsers()
    {
        {#
        var keywordsAmount_value = $('#dataminingSongs_profile2').data('id1');
        keywordsAmount_value+=10;
        $('#dataminingSongs_profile2').data('id1', keywordsAmount_value);
        #}
        
        var keywordsAmount_value = $('#search_div_123_4').attr('keywordsAmount');
        
        var form = $('#get-keywordUsers-ajax');
        var url = form.attr('action');
        
        $.post(url, {keywordsAmount_value: keywordsAmount_value}, function (data)
        {
            keywordsAmount_value = parseInt(keywordsAmount_value)+10;
            
            $('#search_div_123_4').attr('keywordsAmount', 0);
            document.getElementById('search_div_123_4').innerHTML = "";
            
            {#$('#search_div_123_4').attr('keywordsAmount', keywordsAmount_value);#}
            
            //////////////////////////////////////////////////////////////////////////////////////
            
            var amountKeywords = data[0].amountKeywords;
            {#alert('get-keywordUsers-ajax '+amountKeywords+" -> "+keywordsAmount_value);#}
            
            var env = "search_div_123_4";
            var kindOfList = "listByDatamining";
            
            for (i=0; i<amountKeywords; i++)
            {
                var keywordId = data[i].keywordId;
                var keywordContent = data[i].keywordContent;
                var amountKeywords = data[i].amountKeywords;
                
                addKeywordList(keywordId, keywordContent, env, kindOfList);
            }
        }).fail(function () {
            alert('ERROR get-keywordUsers-ajax');
        });
    }
    
    function get_datamining_location(this_location)
    {
        var keywordsAmount_value = $('#location_list_block').attr('keywordsAmount');
        var form = $('#get-datamining-location-ajax');
        var url = form.attr('action');
        
        {#alert("#get-datamining-location-ajax "+this_location);#}
        
        $.post(url, {
            keywordsAmount_value: keywordsAmount_value,
            this_location: this_location
        }, function (data)
        {
            keywordsAmount_value = parseInt(keywordsAmount_value)+10;
            $('#location_list_block').attr('keywordsAmount', keywordsAmount_value);
            
            //////////////////////////////////////////////////////////////////////////////////////
            
            var amountKeywords = data[0].amountKeywords;
            alert('#get-datamining-location-ajax '+amountKeywords+" -> "+keywordsAmount_value);
            
            if ($("#location_list_block").attr("fdyc") != 1)
            {
                {#relativePosition listByLocation_env #}
                $("#location_list_block").attr("fdyc", 1);
                var listByLocation_env = document.createElement("div");
                listByLocation_env.id = "listByLocation_env";
                listByLocation_env.className = "dataminingList";
                document.getElementById("location_list_block").appendChild(listByLocation_env);
                
                $('#listByLocation_env')
                .scroll(function () {
                    var listByLocation_env = document.getElementById("listByLocation_env");

                    var a = listByLocation_env.scrollHeight;
                    var b = listByLocation_env.scrollTop;
                    var c = listByLocation_env.clientHeight;

                    if (b+c === a)
                    {
                        {#get_KeywordUsers();#}

                        get_datamining_location(1);
                        {#alert("fin");#}
                    }
                })
                .mouseover(function () {
                    var listByLocation_env = document.getElementById("listByLocation_env");
                    listByLocation_env.classList.add("visibleScroll");
                })
                .mouseout(function () {
                    var listByLocation_env = document.getElementById("listByLocation_env");
                    listByLocation_env.classList.remove("visibleScroll");
                });
            }
            
            var env = "listByLocation_env";
            var kindOfList = "listByDataminingLocation";
            
            for (i=0; i<amountKeywords; i++)
            {
                var keywordId = data[i].keywordId;
                var keywordContent = data[i].keywordContent;
                var amountKeywords = data[i].amountKeywords;
                
                addKeywordList(keywordId, keywordContent, env, kindOfList);
            }
        }).fail(function () {
            alert('ERROR #get-datamining-location-ajax');
        });
    }
    
    function addKeywordList(keywordId, keywordContent, env, kindOfList) {#GUI FUNCTION#}
    {
        $("#"+env).append(
        "<div id='listByDatamining" + kindOfList + keywordId + "' class='listByDatamining'>"+
                
            "<div id='list_listByDatamining" + kindOfList + keywordId + "' class='list_listByDatamining' data-id22='" + kindOfList + keywordId + "'>" +
                "<table border='0' width='100%'>"+
                "<tr>"+
                    "<td width='10%' colspan='6'>"+
                        "<div class='emergentGuide_listByDatamining' style='text-align:right; width:100%;' id='emergentGuide_listByDatamining" + kindOfList + keywordId + "' data-id3='" + kindOfList + keywordId + "'><br>"+
                        "</div>"+
                    "</td>"+
                "</tr>"+

                "<tr>"+
                    "<td width='60%'>"+
                    "<div id='name_listByDatamining" + kindOfList + keywordId + "'>"+keywordContent+
                    "</div>"+
                    "</td>"+

                    "<td width='10%'>"+
                        "<div id='play_listByDatamining" + kindOfList + keywordId + "' class='play_listByDatamining' data-id3='" + kindOfList + keywordId + "'>>"+
                        "</div>"+
                    "</td>"+

                    "<td width='10%'>"+
                        "<div id='openFrame_listByDatamining" + kindOfList + keywordId + "' class='openFrame_listByDatamining' data-id1='0' data-id2=0>+"+
                        "</div>"+
                        "<div id='closeFrame_listByDatamining" + kindOfList + keywordId + "' class='closeFrame_listByDatamining'>-"+
                        "</div>"+
                    "</td>"+

                    "<td width='10%'>"+
                        "<div id='delete_listByDatamining" + kindOfList + keywordId + "' class='delete_listByDatamining' data-id3='" + kindOfList + keywordId + "'>x"+
                        "</div>"+
                    "</td>"+

                "</tr>"+
                "</table>"+
            "</div>" +
        
            "<div id='videos_listByDatamining" + kindOfList + keywordId + "' class='videos_listByDatamining' data-id2='" + kindOfList + keywordId + "' >" +
                {#"<br>"+#}
            "</div>"+
        "</div>"
            
        );
        
        $('#list_listByDatamining'+ kindOfList + keywordId)
        .mouseover(function () {
            var id = $(this).data('id22');

            var openFrame_listByDataminingId = "openFrame_listByDatamining"+id;
            var closeFrame_listByDataminingId = "closeFrame_listByDatamining"+id;
            var delete_listByDataminingId = "delete_listByDatamining"+id;
            var play_listByDataminingId = "play_listByDatamining"+id;

            var openFrame_listByDatamining = document.getElementById(openFrame_listByDataminingId);
            var closeFrame_listByDatamining = document.getElementById(closeFrame_listByDataminingId);
            var delete_listByDatamining = document.getElementById(delete_listByDataminingId);
            var play_listByDatamining = document.getElementById(play_listByDataminingId);

            openFrame_listByDatamining.style.opacity = 1;
            closeFrame_listByDatamining.style.opacity = 1;
            delete_listByDatamining.style.opacity = 1;
            play_listByDatamining.style.opacity = 1;

            var listId = "list_listByDatamining"+id;
            var list = document.getElementById(listId);

            list.style.backgroundColor = "rgba(255, 255, 255, 0.40)";
        })
        .mouseout(function () {
            var id = $(this).data('id22');

            var emergentGuideId = "emergentGuide_listByDatamining"+id;
            var emergentGuide = document.getElementById(emergentGuideId);
            emergentGuide.innerHTML = "<br>";

            var listId = "list_listByDatamining"+id;
            var list = document.getElementById(listId);
            list.style.backgroundColor = "transparent";

            var openFrame_listByDataminingId = "openFrame_listByDatamining"+id;
            var closeFrame_listByDataminingId = "closeFrame_listByDatamining"+id;
            var delete_listByDataminingId = "delete_listByDatamining"+id;
            var play_listByDataminingId = "play_listByDatamining"+id;

            var openFrame_listByDatamining = document.getElementById(openFrame_listByDataminingId);
            var closeFrame_listByDatamining = document.getElementById(closeFrame_listByDataminingId);
            var delete_listByDatamining = document.getElementById(delete_listByDataminingId);
            var play_listByDatamining = document.getElementById(play_listByDataminingId);

            openFrame_listByDatamining.style.opacity = 0;
            closeFrame_listByDatamining.style.opacity = 0;
            delete_listByDatamining.style.opacity = 0;
            play_listByDatamining.style.opacity = 0;
        });
        
        $('#play_listByDatamining'+ kindOfList + keywordId)
        .mouseover(function () {
            var play_listByDataminingId = "play_listByDatamining"+ kindOfList + keywordId;
            var play_listByDatamining = document.getElementById(play_listByDataminingId);

            var emergentGuide_listByDataminingId = "emergentGuide_listByDatamining"+ kindOfList + keywordId;
            var emergentGuide_listByDatamining = document.getElementById(emergentGuide_listByDataminingId);

            emergentGuide_listByDatamining.innerHTML = "Play this list";
            play_listByDatamining.style.backgroundColor = "#1ab7ea";
            play_listByDatamining.style.opacity = 1;
        })
        .mouseout(function () {
            var play_listByDataminingId = "play_listByDatamining"+ kindOfList + keywordId;
            var play_listByDatamining = document.getElementById(play_listByDataminingId);

            play_listByDatamining.style.backgroundColor = "transparent";
            play_listByDatamining.style.opacity = 0;
        });
        
        $('#openFrame_listByDatamining'+ kindOfList + keywordId)
        .mouseover(function () {
            var openFrame_listByDataminingId = "openFrame_listByDatamining"+ kindOfList + keywordId;
            var openFrame_listByDatamining = document.getElementById(openFrame_listByDataminingId);

            var emergentGuide_listByDataminingId = "emergentGuide_listByDatamining"+ kindOfList + keywordId;
            var emergentGuide_listByDatamining = document.getElementById(emergentGuide_listByDataminingId);

            emergentGuide_listByDatamining.innerHTML = "Hide this list";
            openFrame_listByDatamining.style.backgroundColor = "#1ab7ea";
            openFrame_listByDatamining.style.opacity = 1;
        })
        .mouseout(function () {
            var openFrame_listByDataminingId = "openFrame_listByDatamining"+ kindOfList + keywordId;
            var openFrame_listByDatamining = document.getElementById(openFrame_listByDataminingId);

            openFrame_listByDatamining.style.backgroundColor = "transparent";
            openFrame_listByDatamining.style.opacity = 0;
        })
        .click(function () {
            var nextId = "videos_listByDatamining" + kindOfList + keywordId;
            var nextElement = document.getElementById(nextId);
 
            nextElement.style.maxHeight = "200px";

            buttonId = "openFrame_listByDatamining" + kindOfList + keywordId;
            buttonId2 = "closeFrame_listByDatamining" + kindOfList + keywordId;
            var currentButton = document.getElementById(buttonId);
            var currentButton2 = document.getElementById(buttonId2);
            currentButton.style.display = 'none';
            currentButton2.style.display = 'block';
            
            var firstClick_value = $('#openFrame_listByDatamining'+ kindOfList + keywordId).data('id2');
            
            if(firstClick_value === 0)
            {
                $('#openFrame_listByDatamining'+ kindOfList + keywordId).data('id2', 1);
                
                var videosAmount_value = $('#openFrame_listByDatamining'+ kindOfList + keywordId).data('id1');
                get_Videos_KeywordUsers(keywordId, keywordContent, videosAmount_value);
                videosAmount_value+=10;
                $('#openFrame_listByDatamining'+ kindOfList + keywordId).data('id1', videosAmount_value);
            }
        });
        
        $('#closeFrame_listByDatamining'+ kindOfList + keywordId)
        .mouseover(function () {
            var closeFrame_listByDataminingId = "closeFrame_listByDatamining"+ kindOfList + keywordId;
            var closeFrame_listByDatamining = document.getElementById(closeFrame_listByDataminingId);

            var emergentGuide_listByDataminingId = "emergentGuide_listByDatamining"+ kindOfList + keywordId;
            var emergentGuide_listByDatamining = document.getElementById(emergentGuide_listByDataminingId);

            emergentGuide_listByDatamining.innerHTML = "Hide this list";
            closeFrame_listByDatamining.style.backgroundColor = "#1ab7ea";
            closeFrame_listByDatamining.style.opacity = 1;
        })
        .mouseout(function () {
            var closeFrame_listByDataminingId = "closeFrame_listByDatamining"+ kindOfList + keywordId;
            var closeFrame_listByDatamining = document.getElementById(closeFrame_listByDataminingId);

            closeFrame_listByDatamining.style.backgroundColor = "transparent";
            closeFrame_listByDatamining.style.opacity = 0;
        })
        .click(function () {
            var nextId = "videos_listByDatamining" + kindOfList + keywordId;
            var nextElement = document.getElementById(nextId);

            nextElement.style.maxHeight = null;
            
            buttonId = "openFrame_listByDatamining" + kindOfList + keywordId;
            buttonId2 = "closeFrame_listByDatamining" + kindOfList + keywordId;
            var currentButton = document.getElementById(buttonId);
            var currentButton2 = document.getElementById(buttonId2);
            currentButton.style.display = 'block';
            currentButton2.style.display = 'none';
        });
        
        $('#delete_listByDatamining'+ kindOfList + keywordId)
        .mouseover(function () {
            var delete_listByDataminingId = "delete_listByDatamining"+ kindOfList + keywordId;
            var delete_listByDatamining = document.getElementById(delete_listByDataminingId);

            var emergentGuide_listByDataminingId = "emergentGuide_listByDatamining"+ kindOfList + keywordId;
            var emergentGuide_listByDatamining = document.getElementById(emergentGuide_listByDataminingId);

            emergentGuide_listByDatamining.innerHTML = "Delete this list";
            delete_listByDatamining.style.backgroundColor = "#1ab7ea";
            delete_listByDatamining.style.opacity = 1;
        })
        .mouseout(function () {
            var delete_listByDataminingId = "delete_listByDatamining"+ kindOfList + keywordId;
            var delete_listByDatamining = document.getElementById(delete_listByDataminingId);

            delete_listByDatamining.style.backgroundColor = "transparent";
            delete_listByDatamining.style.opacity = 0;
        })
        .click(function () {
            {#alert("delete list by datamining");#}
                    
            var delete_listByDataminingId = "delete_listByDatamining"+ kindOfList + keywordId;
            var delete_listByDatamining = document.getElementById(delete_listByDataminingId);

            delete_listByDatamining.style.backgroundColor = "transparent";
            delete_listByDatamining.style.opacity = 0;
                    
            delete_keyword_user(keywordId, delete_listByDatamining);
        });
        
        $('#videos_listByDatamining'+ kindOfList + keywordId)
        .scroll(function () {
            var id = $(this).data('id2');
            {#var firstResult_listByDatamining = $(this).data('id3'); // here pendiente#}
            
            var videos_listByDatamining_id = "videos_listByDatamining" + id;
    
            var videos_listByDatamining = document.getElementById(videos_listByDatamining_id);

            var a = videos_listByDatamining.scrollHeight;
            var b = videos_listByDatamining.scrollTop;
            var c = videos_listByDatamining.clientHeight;

            if (b+c === a)
            {
                var videosAmount_value = $('#openFrame_listByDatamining'+ kindOfList + keywordId).data('id1');
                get_Videos_KeywordUsers(keywordId, keywordContent, videosAmount_value);
                videosAmount_value+=10;
                $('#openFrame_listByDatamining'+ kindOfList + keywordId).data('id1', videosAmount_value);
            }
        })
        .mouseover(function () {
            var videos_listByDatamining = document.getElementById('videos_listByDatamining'+ kindOfList + keywordId);
            videos_listByDatamining.classList.add("visibleScroll");
        })
        .mouseout(function () {
            var videos_listByDatamining = document.getElementById('videos_listByDatamining'+ kindOfList + keywordId);
            videos_listByDatamining.classList.remove("visibleScroll");
        });
    }
    
    function delete_keyword_user(keywordId, delete_listByDatamining)
    {
        var form = $('#delete-keyword-user-ajax');
        var url = form.attr('action');
        
        $.post(url, {
            keyword: keywordId
        }, function (data)
        {
            document.getElementById('list_listByDatamining'+keywordId).innerHTML = "";
            alert('#delete-keyword-user-ajax');
        }).fail(function () {
            alert('ERROR #delete-keyword-user-ajax');
        });
    }
    
    function get_Videos_KeywordUsers(keywordId, keywordContent, videosAmount_value) {#CRUD FUNCTION#}
    {
        {#alert("#get-videosPerKeywordUsers-ajax");#}
        var form = $('#get-videosPerKeywordUsers-ajax');
        var url = form.attr('action');

        $.post(url, {keywordId: keywordId, keywordContent: keywordContent, videosAmount_value: videosAmount_value}, function (data)
        {
            var keywordContent = data[0].keywordContent;
            var amountVideos = data[0].amountVideos;
            
            videoPosition_dataminingBundle = 0;
            
            for (i = 0; i < amountVideos; i++)
            {
                var videoId = data[i].videoId;
                var videoName = data[i].videoName;
                var videoDescription = data[i].videoDescription;
                var videoImage = data[i].videoImage;
                var videoContent = data[i].videoContent;
                var videoUpdatedate = data[i].videoUpdatedate;
                var videoAmountViews = data[i].videoAmountViews;
                var videoAmountComments = data[i].videoAmountComments;
                var videoScore = data[i].videoScore;
                var userId = data[i].userId;
                var userName = data[i].userName;
                var keywordId = data[i].keywordId;
                var keywordContent = data[i].keywordContent;
                var amountVideos = data[i].amountVideos;
                var amountKeywordUsers = 0;

                if (videoId === "_")
                {

                } else
                {
                    if (videoScore === 0)
                    {
                       if (videoScore === 0)
                       {
                           videoScore = 1;
                       }
                    }

                    addVideoList(
                        videoId, 
                        videoName, 
                        videoDescription, 
                        videoImage, 
                        videoContent, 
                        videoUpdatedate, 
                        videoAmountViews, 
                        videoAmountComments, 
                        videoScore, 
                        userId, 
                        userName, 
                        amountVideos, 
                        amountKeywordUsers,
                        keywordId,
                        keywordContent
                    );
                }
                
            }
            
        }).fail(function () {
            alert('ERROR get-videosPerKeywordUsers-ajax 11111');
        });
    }
    
    function addVideoList(
        videoId, 
        videoName, 
        videoDescription, 
        videoImage, 
        videoContent, 
        videoUpdatedate, 
        videoAmountViews, 
        videoAmountComments, 
        videoScore, 
        userId, 
        userName, 
        amountVideos, 
        amountKeywordUsers, 
        keywordId, 
        keywordContent)
    {
        // superglobal_variable
        videoPosition_dataminingBundle++;
        
        $("#videos_listByDatamining"+keywordId+"").append(
            
            "<div id='respectlyVideo_listByDatamining"+keywordId+"_"+videoId+"' class='respectlyVideo_listByDatamining' "+
            
            " data-id1='"+videoId+"'"+
            " data-id2='"+videoName+"'"+
            " data-id3='"+videoDescription+"'"+
            " data-id4='"+videoImage+"'"+
            " data-id5='"+videoContent+"'"+
            " data-id6='"+videoUpdatedate+"'"+
            " data-id7='"+videoAmountViews+"'"+
            " data-id8='"+videoAmountComments+"'"+
            " data-id9='"+videoScore+"'"+
            " data-id10='0'"+
            " data-id11='"+userId+"'"+
            " data-id12='"+userName+"'"+
            " data-id13='"+amountVideos+"'"+
            " data-id14='0'"+
            " data-id15='0'"+
            " data-id16='"+keywordId+"'"+
            " data-id17='"+videoPosition_dataminingBundle+"' >"+
            
                "<table border='0' width='100%' height='50px'>"+
                "<tr>"+
                "<td width='75px' height='50px'>"+
                    "<div id='videoImageFrame_listByDatamining"+keywordId+"_"+videoId+"' class='videoImageFrame_listByDatamining' data-id1='"+videoId+"' >"+
                    "<img class='videoImageContent_listByDatamining' src='files/"+userId+"/"+videoId+"/"+videoImage+"' alt='Mountain View'>"+
                    "</div>"+
                "</td>"+
                "<td> "+
                    "<div id='videoName_listByDatamining"+keywordId+"_"+videoId+"' class='videoName_listByDatamining' data-id1='"+videoId+"' >"+
                    videoName+"<br>"+userName+
                    "</div>"+
                "</td>"+
                "</tr>"+
                "</table>"+
                
            "</div>"
        );
        
        $('#respectlyVideo_listByDatamining'+keywordId+"_"+videoId)
        .mouseover(function () {
            var videoId = $(this).data('id1');
            var keywordId = $(this).data('id16');
            document.getElementById("respectlyVideo_listByDatamining"+keywordId+"_"+videoId).style.backgroundColor = "rgba(255, 255, 255, 0.40)";
        })
        .click(function () {
            var videoId = $(this).data('id1');
            var videoName = $(this).data('id2');
            var videoDescription = $(this).data('id3');
            var videoImage = $(this).data('id4');
            var videoContent = $(this).data('id5');
            var videoUpdatedate = $(this).data('id6');
            var videoAmountViews = $(this).data('id7');
            var videoAmountComments = $(this).data('id8');
            var videoScore = $(this).data('id9');
            var userId = $(this).data('id11');
            var userName = $(this).data('id12');
            var amountVideos = $(this).data('id13');
            var keywordId = $(this).data('id16');
            var videoPosition_dataminingBundle = $(this).data('id17');
            
            var kindOfList = "dataminingBundle";
            var listId = keywordId;
            var videoOrderPosition = videoPosition_dataminingBundle;
            
            showVideo(
                videoId,
                videoName,
                videoDescription,
                videoImage,
                videoContent,
                videoUpdatedate,
                videoAmountViews,
                videoAmountComments,
                videoScore,
                userId,
                userName,
                kindOfList,
                listId,
                videoOrderPosition
            );

        })
        .mouseout(function () {
            var videoId = $(this).data('id1');
            var keywordId = $(this).data('id16');
            document.getElementById("respectlyVideo_listByDatamining"+keywordId+"_"+videoId).style.backgroundColor = "transparent";
        }); 
    }
</script>